{% extends 'base.html' %}

{% block title %} View Events {% endblock %}

{% block content %}

<div class="col-md-9">
    <div class="text-center mt-6 name">
        <h2 class="text-uppercase">Events</h2>
     </div>
    {% for data in data %}
  <div class="row">
    <div class="post-content">
      <h3>{{ data.heading }}</h3>
      <p class="text-dark">{{ data.description }}</p>
      <div class="post-meta"><span>Posted:</span>{{ data.created_date }}</div>
      <br>
      <div class="row">
          &emsp;
        <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#exampleModal{{ data.id }}">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pen-fill" viewBox="0 0 16 16">
              <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z"/>
            </svg>
        </button>
          &emsp;
        <form method="post" action="{{ url_for('views.delete', data_id=data.id) }}">
            <span>
                <button type="submit" class="btn btn-danger btn-sm">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-archive-fill" viewBox="0 0 16 16">
                      <path d="M12.643 15C13.979 15 15 13.845 15 12.5V5H1v7.5C1 13.845 2.021 15 3.357 15h9.286zM5.5 7h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zM.8 1a.8.8 0 0 0-.8.8V3a.8.8 0 0 0 .8.8h14.4A.8.8 0 0 0 16 3V1.8a.8.8 0 0 0-.8-.8H.8z"/>
                    </svg>
                </button>
            </span>
        </form>
      </div>
    </div>
  </div>
   <div class="modal fade bd-example-modal-lg" id="exampleModal{{ data.id }}" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <form action="{{ url_for('views.modal', event_id=data.id) }}" method="post">
            <div class="text-center mt-6 name">
                <h4>Edit Event</h4>
            </div>
            <div class="form-floating mb-3">
              <label for="floatingInput">Event Heading</label>
              <input type="text" name="heading1" placeholder="{{ data.heading }}" value="{{ data.heading }}" class="form-control" id="floatingInput">
            </div>
            <div class="form-floating">
              <label for="floatingTextarea2">Description</label>
              <textarea class="form-control" name="description1" placeholder="{{ data.description }}" value="{{ data.description }}" id="floatingTextarea2" style="height: 100px"></textarea>
            </div>
            <button class="btn btn-primary btn-sm">Submit</button>
        </form>
        </div>
      </div>
    </div>
  <hr>
    {% endfor %}
</div>

{% endblock %}